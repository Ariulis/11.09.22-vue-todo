"use strict";(self["webpackChunkVueToDo"]=self["webpackChunkVueToDo"]||[]).push([[661],{4661:function(t,s,e){e.r(s),e.d(s,{default:function(){return n}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"row"},[s("div",{staticClass:"col s6 offset-s3"},[s("h3",[t._v("Update task")]),s("hr"),t.task?s("form",{on:{submit:function(s){return s.preventDefault(),t.submitHandler.apply(null,arguments)}}},[s("div",{staticClass:"input-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"validate",attrs:{id:"title",type:"text"},domProps:{value:t.title},on:{input:function(s){s.target.composing||(t.title=s.target.value)}}}),s("label",{attrs:{for:"title"}},[t._v("Title")])]),s("div",{staticClass:"input-field"},[s("div",{ref:"chips",staticClass:"chips"})]),s("div",{staticClass:"input-field"},[s("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.description,expression:"description",modifiers:{trim:!0}}],staticClass:"materialize-textarea",attrs:{id:"description"},domProps:{value:t.description},on:{input:function(s){s.target.composing||(t.description=s.target.value.trim())},blur:function(s){return t.$forceUpdate()}}}),s("label",{attrs:{for:"description"}},[t._v("Description")]),s("span",{staticClass:"character-counter",staticStyle:{float:"right","font-size":"12px"}},[t._v(t._s(t.description.length)+"/2048")])]),s("div",{staticClass:"input-field"},[s("input",{ref:"datepicker",staticClass:"datepicker",attrs:{type:"text"}})]),s("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Update task")]),"completed"!==t.task.status?s("button",{staticClass:"btn blue",attrs:{type:"button",id:"complete-task-btn"},on:{click:t.completeTask}},[t._v(" Complete task ")]):t._e()]):s("p",[t._v("There is no a task with such an id")])])])},a=[],r={metaInfo(){return{title:"Create task"}},data:()=>({title:"",chips:null,description:"",datepicker:""}),computed:{task(){const t=+this.$route.params.id;return this.$store.getters.tasks.find((s=>s.id===t))}},methods:{submitHandler(){const t={id:this.task.id,status:this.task.status,title:this.title,chips:this.chips.chipsData,description:this.description,date:this.datepicker.date};this.$store.dispatch("updateTask",t),this.$router.push("/")},completeTask(){this.$store.dispatch("completeTask",this.task.id),this.$router.push("/")}},mounted(){this.task&&(this.title=this.task.title,this.description=this.task.description,this.$nextTick((()=>{this.chips=window.M.Chips.init(this.$refs.chips,{placeholder:"Tags",data:this.task.chips}),this.datepicker=window.M.Datepicker.init(this.$refs.datepicker,{format:"dd.mm.yyyy",defaultDate:new Date(this.task.date),setDefaultDate:!0}),window.M.updateTextFields()})))},destroyed(){this.chips&&this.chips.destroy&&this.chips.destroy(),this.datepicker&&this.datepicker.destroy&&this.datepicker.destroy()}},d=r,o=e(1001),c=(0,o.Z)(d,i,a,!1,null,"3a41ba4e",null),n=c.exports}}]);
//# sourceMappingURL=661.39412bcc.js.map